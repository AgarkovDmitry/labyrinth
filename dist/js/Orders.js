webpackJsonp([0],{521:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=t(1),l=i(a),r=t(20),u=t(528),d=i(u),o=t(47),s=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(o),c=function(e){var n=e.title,t=e.token;return l.default.createElement("div",{style:{paddingTop:"20px"}},n,t&&l.default.createElement(d.default,null))};n.default=(0,r.connect)(function(e){return{token:e.auth.token}},s)(c)},526:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l=t(1),r=i(l),u=t(34),d=t(532),o=i(d);n.default=(0,u.graphql)(o.default)(function(e){var n=e.mutate,t=e.id;return r.default.createElement("button",{onClick:function(e){e.stopPropagation(),n({variables:{id:t},updateQueries:{orders:function(e){return a({},e,{orders:e.orders.filter(function(e){return e.id!=t})})}}})}},"Delete")})},527:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function u(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=t(1),c=i(s),m=t(34),f=t(533),v=i(f),k=t(535),p=i(k),y=t(526),S=i(y),N=function(e){var n=e.data;return c.default.createElement("div",null,c.default.createElement("div",null,n.order&&"Description: "+n.order.description),c.default.createElement("div",null,n.order&&"Contact Name: "+n.order.contactName),c.default.createElement("div",null,n.order&&"Contact Surname: "+n.order.contactSurname),c.default.createElement("div",null,n.order&&"Phone: "+n.order.phone),c.default.createElement("div",null,n.order&&"Email: "+n.order.email))},b=(0,m.graphql)(v.default)(N),h=function(e,n){return e({variables:{id:n},updateQueries:{orders:function(e,t){var i=t.mutationResult,a=e.orders.findIndex(function(e){return e.id==n});return o({},e,{orders:[].concat(u(e.orders.slice(0,a)),[o({},e.orders[a],{seen:i.data.seeOrder.seen})],u(e.orders.slice(a+1)))})}}})},g=function(e){function n(){var e,t,i,r;a(this,n);for(var u=arguments.length,d=Array(u),o=0;o<u;o++)d[o]=arguments[o];return t=i=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(d))),i.state={isOpened:!1},r=t,l(i,r)}return r(n,e),d(n,[{key:"handleClick",value:function(){var e=this;0==this.state.isOpened?h(this.props.mutate,this.props.item.id).then(function(){return e.setState({isOpened:!0})}):this.setState({isOpened:!1})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",null,c.default.createElement("div",{onClick:function(n){return e.handleClick(n)}},"companyName: "+this.props.item.company+", industry: "+this.props.item.industry+", service: "+this.props.item.service+", date: "+new Date(this.props.item.date).toLocaleString(),c.default.createElement("br",null),c.default.createElement("br",null),c.default.createElement("span",null,"Seen By:"),this.props.item.seen.map(function(e,n){return c.default.createElement("span",{key:n},e.name+" "+e.surname+", ")}),c.default.createElement("br",null),c.default.createElement(S.default,{id:this.props.item.id})),this.state.isOpened&&c.default.createElement("hr",null),this.state.isOpened&&c.default.createElement(b,{id:this.props.item.id}))}}]),n}(c.default.Component);n.default=(0,m.graphql)(p.default)(g)},528:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=t(1),l=i(a),r=t(34),u=t(534),d=i(u),o=t(527),s=i(o),c=function(e){var n=e.data;return l.default.createElement("div",null,n.orders?n.orders.map(function(e){return l.default.createElement("div",{key:e.id},l.default.createElement(s.default,{item:e}))}):null)};n.default=(0,r.graphql)(d.default)(c)},532:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"delete"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"deleteOrder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:null}]}}],loc:{start:0,end:55}};e.exports=t},533:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"order"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"order"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"description"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"result"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"surname"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"phone"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"email"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"seen"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"surname"},arguments:[],directives:[],selectionSet:null}]}}]}}]}}],loc:{start:0,end:180}};e.exports=t},534:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"orders"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"orders"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"date"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"company"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"industry"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"service"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"seen"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"surname"},arguments:[],directives:[],selectionSet:null}]}}]}}]}}],loc:{start:0,end:145}};e.exports=t},535:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"seeOrder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"seen"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"surname"},arguments:[],directives:[],selectionSet:null}]}}]}}]}}],loc:{start:0,end:100}};e.exports=t}});
